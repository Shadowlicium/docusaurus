"use strict";(self.webpackChunkprojet_docu=self.webpackChunkprojet_docu||[]).push([[421],{6826:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"ADDS/AWS","title":"AWS","description":"AWS a \xe9t\xe9 la plateforme utilis\xe9 afin de supporter ce projet cloud","source":"@site/docs/ADDS/AWS.md","sourceDirName":"ADDS","slug":"/ADDS/AWS","permalink":"/docusaurus/docs/ADDS/AWS","draft":false,"unlisted":false,"editUrl":"https://github.com/Shadowlicium/docusaurus/docs/ADDS/AWS.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"NFS","permalink":"/docusaurus/docs/ADDS/NFS"},"next":{"title":"supervision","permalink":"/docusaurus/docs/ADDS/supervision"}}');var t=n(4848),i=n(8453);const a={sidebar_position:7},o=void 0,c={},d=[];function u(e){const r={a:"a",code:"code",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.p,{children:"AWS a \xe9t\xe9 la plateforme utilis\xe9 afin de supporter ce projet cloud"}),"\n",(0,t.jsx)(r.p,{children:"il a fallut importer la machine Samba sur aws, et pour ce faire, les \xe9tapes suivantes on \xe9t\xe9 r\xe9aliser :"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Importation de la VM depuis virtualbox en OVA"}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"tout d'abord sur la machine local, il faudra r\xe9cuperer le disque dur virtuel du serveur"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"tar -xvf nom_vm.ova\n"})}),"\n",(0,t.jsx)(r.p,{children:"on obtient le fichier .vmdk de la vm, qu'on devra ensuite rendre au format RAW"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"qemu-img convert -f vmdk -O raw nom_vm-disk.vmdk nom_vm.raw\n"})}),"\n",(0,t.jsx)(r.p,{children:"On peut ensuite transf\xe9rer l'image vers AWS dans le service S3"}),"\n",(0,t.jsx)(r.p,{children:"Il faudra tout d'abord cr\xe9er un bucket en configurant ses options"}),"\n",(0,t.jsx)(r.p,{children:"puis on ouvre le cloudshell de aws et on entre"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"aws s3 cp nom_vm.raw s3://nom_bucket/\n"})}),"\n",(0,t.jsx)(r.p,{children:"l'importation peut durer plusieurs minutes voir heure d\xe9pendant de la taille du disque."}),"\n",(0,t.jsx)(r.p,{children:"Une fois importer dans aws dans le bucket, il faudra importer l'image en tant qu'AMI"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:'aws ec2 import-image --disk-containers "Format=raw,UserBucket={S3Bucket=nom_bucket,S3Key=nom_vm.raw}"\n'})}),"\n",(0,t.jsxs)(r.p,{children:["Il faudra not\xe9 l'ID de ",(0,t.jsx)(r.strong,{children:'"import-ami-xxxxxxx"'})," qui sera retourn\xe9"]}),"\n",(0,t.jsx)(r.p,{children:"Il n'y a plus qu'a attendre que la conversion se fasse, on peut v\xe9rifier l'avancement avec la commande suivante."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"aws ec2 describe-import-image-tasks --import-task-ids import-ami-xxxxxxxx\n"})}),"\n",(0,t.jsxs)(r.p,{children:['une fois que la status est pass\xe9 a "completed" alors on peut cr\xe9er l\'instance dans ',(0,t.jsx)(r.strong,{children:"AWS EC2"})]}),"\n",(0,t.jsx)(r.p,{children:"une fois l'instance cr\xe9er, vous pouvez recuperer l'ip publique et vous connecter en ssh en r\xe9cup\xe9rant la cl\xe9 de s\xe9curit\xe9 fourni lors de la cr\xe9ation de l'instance."}),"\n",(0,t.jsxs)(r.p,{children:["certaines configuration doit \xeatre changer afin de correspondre aux attentes. (se r\xe9ferrer a ",(0,t.jsx)(r.a,{href:"/docusaurus/docs/ADDS/samba-adds",children:"samba-adds"}),")"]}),"\n",(0,t.jsx)(r.p,{children:"Le VPN devrait \xeatre mis en place afin de favoriser la s\xe9curit\xe9 et la confidentialit\xe9 du serveur."})]})}function l(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>o});var s=n(6540);const t={},i=s.createContext(t);function a(e){const r=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);